

<!DOCTYPE html>
<html>

<head>
	<title>Slide Navbar</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>

<body>
	<div class="main">
		<input type="checkbox" id="chk" aria-hidden="true">

		<div class="signup">
			<form id="signupForm">
				<label for="chk" aria-hidden="true">Sign up</label>
				<input type="text" id="userName" name="IdentificxicationNumber" placeholder="User name" required>
				<input type="email" id="sEmail" name="email" placeholder="Email" required>
				<input type="password" id="sPassword" name="pswd" placeholder="Password" required>
				<button type="submit" id="sgnUp" value="SignUp">Sign up</button>
			</form>
		</div>

		<div id="LoginForm" class="login" onsubmit="return false">
			<form id="loginForm">
				<label for="chk" aria-hidden="true">Login</label>
				<input type="Identificicationnumber" id="Identificicationnumber" name="Identificicationnumber" placeholder="Identificicationnumber" required>
				<input type="password" id="Password" name="pswd" placeholder="Password" required>
				<button type="submit" id="lgn" value="Login">Login</button>
				<div id="BadLogin" style="display: none; margin-left: 20px;">
					<p>The login information you entered does not match
						an account in our records. Please try again.</p>
				</div>
			</form>
		</div>
		</input>
	</div>


	<script>

		function login(form) {
			var em = form.Identificicationnumber.value;
			var pw = form.Password.value;
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.open("post", "http://127.0.0.1:8000/user/login/", true);
			xmlhttp.send({"Identificicationnumber":em,"Password":pw});
			// xmlhttp.open("get", "text.txt", true);
			xmlhttp.send(xmlhttp)
			xmlhttp.onreadystatechange = function () {
				if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
					alert(this.responseText);
					
						
				}
			}
					
		}


		function loginResults(form) {
			var badLogin = document.getElementById("BadLogin");
			if (form.Email.value == "snc@gmail.com" && form.Password.value == "666") {
				badLogin.innerHTML = "Logged in as " + form.Email.value;
				badLogin.style.display = "block";
				//form.style.display = "none";
			} else {
				badLogin.style.display = "block";
				form.Email.select();
				form.Email.className = "Highlighted";
				setTimeout(function () {
					badLogin.style.display = 'none';
				}, 3000);
			}
		}

	


		document.getElementById("lgn").addEventListener("click", function () {
			var loginForm = document.getElementById("loginForm");
			login(loginForm);
		});






		function signup(signupForm) {
			var sem = signupForm.sEmail.value;
			var sun = signupForm.userName.value
			var spw = signupForm.sPassword.value;
			var xmlhttp = new XMLHttpRequest();
			//xmlhttp.open("post", "signup", true);
			var tmp = sem + sun + spw ;
			var blob = new Blob([tmp], { type: "text/plain;charset=utf-8" });
			var sFile = Storages.Binary("C:\\Users\\theca\\Desktop\\blabla\\text.txt");
			alert("slm");

			sFile.SaveAs("text.txt");
			//saveAs(blob,"text.txt");
               

				xmlhttp.onreadystatechange = function () {
					if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
						signupResults(signupForm);
					}
				}

		}


		
		document.getElementById("sgnUp").addEventListener("click", function () {
			var signForm = document.getElementById("signupForm");
			signup(signForm);
		});




		function signupResults(form) {
			
			alert("signed up as " + form.sEmail.value);

		}


	</script>




</body>

</html>